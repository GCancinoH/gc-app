<!--@defer (when isLoading()) {
    <div class="loading">
        <span class="loader"></span>
    </div>
}-->
<Loading [activated]="isLoading()" loader="scale-up"></Loading>
<div class="add-weight-container">
    <span>Fecha de hoy: {{ todaysDate | date: 'MMMM dd, yyyy' }}</span>
    <form [formGroup]="addWeightForm" class="aw-form" (ngSubmit)="onSubmitData()">
        <mat-form-field appearance="outline" class="fullwidth">
            <mat-label>Peso</mat-label>
            <input matInput placeholder="66.00" formControlName="weight" type="number" step="0.01">
            <span matTextSuffix>kg</span>
            @if(addWeightForm.get('weight')?.hasError('required')) {
            <mat-error>Este campo es <strong>requerido</strong></mat-error>
            }
            @if(addWeightForm.get('weight')?.hasError('pattern') && !addWeightForm.get('weight')?.hasError('required')) {
            <mat-error>Formato <strong>inválido</strong></mat-error>
            }
        </mat-form-field>
        <!-- IMC & Grasa Visceral -->
        <Layout direction="responsive" [styles]="{'margin-top': '12px'}">
            <mat-form-field appearance="outline" class="fullwidth">
                <mat-label>IMC</mat-label>
                <input matInput placeholder="24.2" formControlName="bmi" type="number" step="0.01">
                @if(addWeightForm.get('bmi')?.hasError('required')) {
                    <mat-error>Este campo es <strong>requerido</strong></mat-error>
                }
                @if(addWeightForm.get('bmi')?.hasError('pattern') && !addWeightForm.get('bmi')?.hasError('required')) {
                    <mat-error>Formato <strong>inválido</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field appearance="outline" class="fullwidth">
                <mat-label>Grasa Visceral</mat-label>
                <input matInput placeholder="5" formControlName="visceralFat" type="number" step="0.01">
                @if(addWeightForm.get('visceralFat')?.hasError('required')) {
                    <mat-error>Este campo es <strong>requerido</strong></mat-error>
                }
                @if(addWeightForm.get('visceralFat')?.hasError('pattern') && !addWeightForm.get('visceralFat')?.hasError('required')) {
                    <mat-error>Formato <strong>inválido</strong></mat-error>
                }
            </mat-form-field>
        </Layout>
        <Layout direction="responsive" [styles]="{'margin-top': '12px'}">
            <mat-form-field appearance="outline" class="fullwidth">
                <mat-label>Masa Grasa</mat-label>
                <input matInput placeholder="24.2" formControlName="bodyFat" type="number" step="0.01">
                <span matTextSuffix>%</span>
                @if(addWeightForm.get('bodyFat')?.hasError('required')) {
                    <mat-error>Este campo es <strong>requerido</strong></mat-error>
                }
                @if(addWeightForm.get('bodyFat')?.hasError('pattern') && !addWeightForm.get('bodyFat')?.hasError('required')) {
                    <mat-error>Formato <strong>inválido</strong></mat-error>
                }
            </mat-form-field>
            <mat-form-field appearance="outline" class="fullwidth">
                <mat-label>Masa Muscular</mat-label>
                <input matInput placeholder="40.50" formControlName="muscle" type="number" step="0.01">
                <span matTextSuffix>%</span>
                @if(addWeightForm.get('muscle')?.hasError('required')) {
                    <mat-error>Este campo es <strong>requerido</strong></mat-error>
                }
                @if(addWeightForm.get('muscle')?.hasError('pattern') && !addWeightForm.get('muscle')?.hasError('required')) {
                    <mat-error>Formato <strong>inválido</strong></mat-error>
                }
            </mat-form-field>
        </Layout> <!-- ./End Layout -->
        <div class="save-btn">
            <button mat-flat-button>
                @if(isLoading() === false) {
                Guardar datos
                } @else {
                <span class="loader"></span>
                }
            </button>
        </div>
    </form>
</div>